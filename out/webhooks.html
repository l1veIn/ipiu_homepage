<!DOCTYPE html><html lang="en" class="h-full"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/41f99c05e5c550cd.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-b961ccdcc849eec1.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-36682b2c2bcbedac.js" async="" crossorigin=""></script><script src="/_next/static/chunks/938-dfe8c41d675c1425.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-d88c3fd667487e07.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-88dc8aa2a7490a88.js" async=""></script><script src="/_next/static/chunks/999-0270acd6251eddf1.js" async=""></script><script src="/_next/static/chunks/946-8a7edae2f577dc0f.js" async=""></script><script src="/_next/static/chunks/app/webhooks/page-97db53eed39cc3ba.js" async=""></script><script src="/_next/static/chunks/772-eb2a9fce6f9af934.js" async=""></script><script src="/_next/static/chunks/749-0a76b3e3e5f7906d.js" async=""></script><script src="/_next/static/chunks/126-216dd38af5481c9d.js" async=""></script><script src="/_next/static/chunks/app/layout-fe45e618c88a3db4.js" async=""></script><title>Webhooks - 软件技术分享</title><meta name="description" content="In this guide, we will look at how to register and consume webhooks to integrate your app with Protocol."/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="48x48"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="flex min-h-full antialiased bg-white dark:bg-zinc-900"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="w-full"><div class="h-full lg:ml-72 xl:ml-80"><header class="contents lg:pointer-events-none lg:fixed lg:inset-0 lg:z-40 lg:flex"><div class="contents lg:pointer-events-auto lg:block lg:w-72 lg:overflow-y-auto lg:border-r lg:border-zinc-900/10 lg:px-6 lg:pb-8 lg:pt-4 xl:w-80 lg:dark:border-white/10"><div class="hidden lg:flex"><a aria-label="Home" href="/"><div width="99" height="24" class="flex text-lg font-bold"><div class="text-emerald-400">XDU</div><div class="mx-2 text-zinc-900 dark:text-white"> IPIU</div></div></a></div><div class="fixed inset-x-0 top-0 z-50 flex h-14 items-center justify-between gap-12 px-4 transition sm:px-6 lg:left-72 lg:z-30 lg:px-8 xl:left-80 backdrop-blur-sm lg:left-72 xl:left-80 dark:backdrop-blur bg-white/[var(--bg-opacity-light)] dark:bg-zinc-900/[var(--bg-opacity-dark)]" style="--bg-opacity-light:0.5;--bg-opacity-dark:0.2"><div class="absolute inset-x-0 top-full h-px transition bg-zinc-900/7.5 dark:bg-white/7.5"></div><div class="hidden lg:block lg:max-w-md lg:flex-auto"><button type="button" class="items-center hidden w-full h-8 gap-2 pl-2 pr-3 text-sm transition bg-white rounded-full text-zinc-500 ring-1 ring-zinc-900/10 hover:ring-zinc-900/20 ui-not-focus-visible:outline-none lg:flex dark:bg-white/5 dark:text-zinc-400 dark:ring-inset dark:ring-white/10 dark:hover:ring-white/20"><svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" d="M12.01 12a4.25 4.25 0 1 0-6.02-6 4.25 4.25 0 0 0 6.02 6Zm0 0 3.24 3.25"></path></svg>输入查找内容<kbd class="ml-auto text-2xs text-zinc-400 dark:text-zinc-500"><kbd class="font-sans"></kbd><kbd class="font-sans">K</kbd></kbd></button><!--$!--><template data-dgst="NEXT_DYNAMIC_NO_SSR_CODE"></template><!--/$--></div><div class="flex items-center gap-5 lg:hidden"><button type="button" class="flex h-6 w-6 items-center justify-center rounded-md transition hover:bg-zinc-900/5 dark:hover:bg-white/5" aria-label="Toggle navigation"><svg viewBox="0 0 10 9" fill="none" stroke-linecap="round" aria-hidden="true" class="w-2.5 stroke-zinc-900 dark:stroke-white"><path d="M.5 1h9M.5 8h9M.5 4.5h9"></path></svg></button><!--$!--><template data-dgst="NEXT_DYNAMIC_NO_SSR_CODE"></template><!--/$--><a aria-label="Home" href="/"><div width="99" height="24" class="flex text-lg font-bold"><div class="text-emerald-400">XDU</div><div class="mx-2 text-zinc-900 dark:text-white"> IPIU</div></div></a></div><div class="flex items-center gap-5"><nav class="hidden md:block"><ul role="list" class="flex items-center gap-8"><li><a class="text-sm leading-5 transition text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/">English</a></li></ul></nav><div class="hidden md:block md:h-5 md:w-px md:bg-zinc-900/10 md:dark:bg-white/15"></div><div class="flex gap-4"><div class="contents lg:hidden"><button type="button" class="flex items-center justify-center w-6 h-6 transition rounded-md hover:bg-zinc-900/5 ui-not-focus-visible:outline-none lg:hidden dark:hover:bg-white/5" aria-label="输入查找内容"><svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="w-5 h-5 stroke-zinc-900 dark:stroke-white"><path stroke-linecap="round" stroke-linejoin="round" d="M12.01 12a4.25 4.25 0 1 0-6.02-6 4.25 4.25 0 0 0 6.02 6Zm0 0 3.24 3.25"></path></svg></button><!--$!--><template data-dgst="NEXT_DYNAMIC_NO_SSR_CODE"></template><!--/$--></div><button type="button" class="flex h-6 w-6 items-center justify-center rounded-md transition hover:bg-zinc-900/5 dark:hover:bg-white/5" aria-label="Toggle theme"><svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="h-5 w-5 stroke-zinc-900 dark:hidden"><path d="M12.5 10a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"></path><path stroke-linecap="round" d="M10 5.5v-1M13.182 6.818l.707-.707M14.5 10h1M13.182 13.182l.707.707M10 15.5v-1M6.11 13.889l.708-.707M4.5 10h1M6.11 6.111l.708.707"></path></svg><svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="hidden h-5 w-5 stroke-white dark:block"><path d="M15.224 11.724a5.5 5.5 0 0 1-6.949-6.949 5.5 5.5 0 1 0 6.949 6.949Z"></path></svg></button></div></div></div><nav class="hidden lg:mt-10 lg:block"><ul role="list"><li class="relative mt-6 md:mt-0"><h2 class="text-xs font-semibold text-zinc-900 dark:text-white">实验室手册</h2><div class="relative pl-2 mt-3"><div class="absolute inset-y-0 w-px left-2 bg-zinc-900/10 dark:bg-white/5"></div><ul role="list" class="border-l border-transparent"><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/"><span class="truncate">简介</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/quickstart"><span class="truncate">快速开始</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/remote"><span class="truncate">远程访问</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/pytorch"><span class="truncate">安装Pytorch</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/FAQ"><span class="truncate">常见问题FAQ</span></a></li></ul></div></li><li class="relative mt-6"><h2 class="text-xs font-semibold text-zinc-900 dark:text-white">资源</h2><div class="relative pl-2 mt-3"><div class="absolute inset-y-0 w-px left-2 bg-zinc-900/10 dark:bg-white/5"></div><ul role="list" class="border-l border-transparent"><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/tools"><span class="truncate">常用工具</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/video"><span class="truncate">视频教程</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/messages"><span class="truncate">数据集</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/model"><span class="truncate">模型</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/code"><span class="truncate">组内源码</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/baidupan"><span class="truncate">百度网盘超会</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/latex"><span class="truncate">论文模版</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ppt"><span class="truncate">组会PPT模版</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/food"><span class="truncate">聚餐地点推荐</span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/others"><span class="truncate">其他攻略</span></a></li></ul></div></li></ul></nav></div></header><div class="relative flex flex-col h-full px-4 pt-14 sm:px-6 lg:px-8"><main class="flex-auto"><article class="flex h-full flex-col pb-10 pt-16"><div class="flex-auto prose dark:prose-invert [html_:where(&amp;&gt;*)]:mx-auto [html_:where(&amp;&gt;*)]:max-w-2xl [html_:where(&amp;&gt;*)]:lg:mx-[calc(50%-min(50%,theme(maxWidth.lg)))] [html_:where(&amp;&gt;*)]:lg:max-w-3xl"><h1>Webhooks</h1>
<p class="lead">In this guide, we will look at how to register and consume webhooks to integrate your app with Protocol. With webhooks, your app can know when something happens in Protocol, such as someone sending a message or adding a contact.</p>
<h2 class="scroll-mt-24" id="registering-webhooks"><a class="group text-inherit no-underline hover:text-inherit" href="#registering-webhooks">Registering webhooks</a></h2>
<p>To register a new webhook, you need to have a URL in your app that Protocol can call. You can configure a new webhook from the Protocol dashboard under <a href="#">API settings</a>. Give your webhook a name, pick the <a href="#event-types">events</a> you want to listen for, and add your URL.</p>
<p>Now, whenever something of interest happens in your app, a webhook is fired off by Protocol. In the next section, we&#x27;ll look at how to consume webhooks.</p>
<h2 class="scroll-mt-24" id="consuming-webhooks"><a class="group text-inherit no-underline hover:text-inherit" href="#consuming-webhooks">Consuming webhooks</a></h2>
<p>When your app receives a webhook request from Protocol, check the <code>type</code> attribute to see what event caused it. The first part of the event type will tell you the payload type, e.g., a conversation, message, etc.</p>
<div class="my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="not-prose"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="mr-auto pt-3 text-xs font-semibold text-white">Example webhook payload</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-white"><code class="language-json"><span><span style="color: var(--shiki-color-text)">{</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">&quot;id&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;a056V7R7NmNRjl70&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">&quot;type&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;conversation.updated&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">&quot;payload&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">&quot;id&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;WAz8eIbvDR60rouK&quot;</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span><span style="color: var(--shiki-color-text)">  }</span></span>
<span><span style="color: var(--shiki-color-text)">}</span></span>
<span></span></code></pre><button type="button" class="group/button absolute right-4 top-3.5 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div>
<p>In the example above, a conversation was <code>updated</code>, and the payload type is a <code>conversation</code>.</p>
<div class="not-prose"><a class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition text-emerald-500 hover:text-emerald-600 dark:text-emerald-400 dark:hover:text-emerald-500" href="#event-types">See all event types<svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="mt-0.5 h-5 w-5 relative top-px -mr-1"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9"></path></svg></a></div>
<hr/>
<h2 class="scroll-mt-24" id="event-types"><a class="group text-inherit no-underline hover:text-inherit" href="#event-types">Event types</a></h2>
<div class="grid grid-cols-1 items-start gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>contact.created</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>A new contact was created.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>contact.updated</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>An existing contact was updated.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>contact.deleted</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>A contact was successfully deleted.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>conversation.created</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>A new conversation was created.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>conversation.updated</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>An existing conversation was updated.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>conversation.deleted</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>A conversation was successfully deleted.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>message.created</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>A new message was created.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>message.updated</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>An existing message was updated.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>message.deleted</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>A message was successfully deleted.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>group.created</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>A new group was created.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>group.updated</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>An existing group was updated.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>group.deleted</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>A group was successfully deleted.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>attachment.created</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>A new attachment was created.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>attachment.updated</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>An existing attachment was updated.</p></dd></dl></li><li class="m-0 px-0 py-4 first:pt-0 last:pb-0"><dl class="m-0 flex flex-wrap items-center gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>attachment.deleted</code></dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0"><p>An attachment was successfully deleted.</p></dd></dl></li></ul></div></div><div class="[&amp;&gt;:first-child]:mt-0 [&amp;&gt;:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="not-prose"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="mr-auto pt-3 text-xs font-semibold text-white">Example payload</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-white"><code class="language-json"><span><span style="color: var(--shiki-color-text)">{</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">&quot;id&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;a056V7R7NmNRjl70&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">&quot;type&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;message.updated&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">&quot;payload&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">&quot;id&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;SIuAFUNKdSYHZF2w&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">&quot;conversation_id&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;xgQQXg3hrtjh7AvZ&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">&quot;contact&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">&quot;id&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;WAz8eIbvDR60rouK&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">&quot;username&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;KevinMcCallister&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">&quot;phone_number&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;1-800-759-3000&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">&quot;avatar_url&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;https://assets.protocol.chat/avatars/kevin.jpg&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">&quot;last_active_at&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">705103200</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">&quot;created_at&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">692233200</span></span>
<span><span style="color: var(--shiki-color-text)">    }</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">&quot;message&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;I’m traveling with my dad. He’s at a meeting. I hate meetings.&quot;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">&quot;reactions&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> []</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">&quot;attachments&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> []</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">&quot;read_at&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">705103200</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">&quot;created_at&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">692233200</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">&quot;updated_at&quot;</span><span style="color: var(--shiki-token-punctuation)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">692233200</span></span>
<span><span style="color: var(--shiki-color-text)">  }</span></span>
<span><span style="color: var(--shiki-color-text)">}</span></span>
<span></span></code></pre><button type="button" class="group/button absolute right-4 top-3.5 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div></div>
<hr/>
<h2 class="scroll-mt-24" id="security"><a class="group text-inherit no-underline hover:text-inherit" href="#security">Security</a></h2>
<p>To know for sure that a webhook was, in fact, sent by Protocol instead of a malicious actor, you can verify the request signature. Each webhook request contains a header named <code>x-protocol-signature</code>, and you can verify this signature by using your secret webhook key. The signature is an HMAC hash of the request payload hashed using your secret key. Here is an example of how to verify the signature in your app:</p>
<button type="button" aria-hidden="true" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></button><div class="my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="not-prose"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="mr-auto pt-3 text-xs font-semibold text-white">Verifying a request</h3><div class="-mb-px flex gap-4 text-xs font-medium" role="tablist" aria-orientation="horizontal"><button class="border-b py-3 transition ui-not-focus-visible:outline-none border-emerald-500 text-emerald-400" id="headlessui-tabs-tab-:R6d1dtsqla:" role="tab" type="button" aria-selected="true" tabindex="0" data-headlessui-state="selected">JavaScript</button><button class="border-b py-3 transition ui-not-focus-visible:outline-none border-transparent text-zinc-400 hover:text-zinc-300" id="headlessui-tabs-tab-:Rad1dtsqla:" role="tab" type="button" aria-selected="false" tabindex="-1" data-headlessui-state="">Python</button><button class="border-b py-3 transition ui-not-focus-visible:outline-none border-transparent text-zinc-400 hover:text-zinc-300" id="headlessui-tabs-tab-:Red1dtsqla:" role="tab" type="button" aria-selected="false" tabindex="-1" data-headlessui-state="">PHP</button></div></div><div><div id="headlessui-tabs-panel-:R1l1dtsqla:" role="tabpanel" tabindex="0" data-headlessui-state="selected"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-white"><code class="language-js"><span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">signature</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">req</span><span style="color: var(--shiki-color-text)">.headers[</span><span style="color: var(--shiki-token-string-expression)">&#39;x-protocol-signature&#39;</span><span style="color: var(--shiki-color-text)">]</span></span>
<span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">hash</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">crypto</span><span style="color: var(--shiki-token-function)">.createHmac</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;sha256&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> secret)</span><span style="color: var(--shiki-token-function)">.update</span><span style="color: var(--shiki-color-text)">(payload)</span><span style="color: var(--shiki-token-function)">.digest</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;hex&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span></span>
<span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (hash </span><span style="color: var(--shiki-token-keyword)">===</span><span style="color: var(--shiki-color-text)"> signature) {</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// Request is verified</span></span>
<span><span style="color: var(--shiki-color-text)">} </span><span style="color: var(--shiki-token-keyword)">else</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// Request could not be verified</span></span>
<span><span style="color: var(--shiki-color-text)">}</span></span>
<span></span></code></pre><button type="button" class="group/button absolute right-4 top-3.5 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><span aria-hidden="true" id="headlessui-tabs-panel-:R2l1dtsqla:" role="tabpanel" tabindex="-1" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></span><span aria-hidden="true" id="headlessui-tabs-panel-:R3l1dtsqla:" role="tabpanel" tabindex="-1" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0"></span></div></div></div>
<p>If your generated signature matches the <code>x-protocol-signature</code> header, you can be sure that the request was truly coming from Protocol. It&#x27;s essential to keep your secret webhook key safe — otherwise, you can no longer be sure that a given webhook was sent by Protocol. Don&#x27;t commit your secret webhook key to GitHub!</p></div><footer class="mx-auto mt-16 w-full max-w-2xl lg:max-w-5xl"><div class="relative h-8"><form class="absolute inset-0 flex items-center justify-center gap-6 md:justify-start"><p class="text-sm text-zinc-600 dark:text-zinc-400">Was this page helpful?</p><div class="group grid h-8 grid-cols-[1fr,1px,1fr] overflow-hidden rounded-full border border-zinc-900/10 dark:border-white/10"><button type="submit" class="px-3 text-sm font-medium text-zinc-600 transition hover:bg-zinc-900/2.5 hover:text-zinc-900 dark:text-zinc-400 dark:hover:bg-white/5 dark:hover:text-white" data-response="yes">Yes</button><div class="bg-zinc-900/10 dark:bg-white/10"></div><button type="submit" class="px-3 text-sm font-medium text-zinc-600 transition hover:bg-zinc-900/2.5 hover:text-zinc-900 dark:text-zinc-400 dark:hover:bg-white/5 dark:hover:text-white" data-response="no">No</button></div></form></div></footer></article></main><footer class="w-full max-w-2xl pb-16 mx-auto space-y-10 lg:max-w-5xl"><div class="flex flex-col items-center justify-between gap-5 pt-8 border-t border-zinc-900/5 sm:flex-row dark:border-white/5"><p class="text-xs text-zinc-600 dark:text-zinc-400">© Copyright <!-- -->2024<!-- -->. All rights reserved.</p><a href="https://beian.miit.gov.cn/" class="text-xs text-zinc-600 dark:text-zinc-400">© 陕ICP备2021000195号-1</a></div></footer></div></div></div><script src="/_next/static/chunks/webpack-b961ccdcc849eec1.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/41f99c05e5c550cd.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:I[7690,[],\"\"]\n5:I[4034,[\"250\",\"static/chunks/250-88dc8aa2a7490a88.js\",\"999\",\"static/chunks/999-0270acd6251eddf1.js\",\"946\",\"static/chunks/946-8a7edae2f577dc0f.js\",\"297\",\"static/chunks/app/webhooks/page-97db53eed39cc3ba.js\"],\"Heading\"]\n6:I[5250,[\"250\",\"static/chunks/250-88dc8aa2a7490a88.js\",\"999\",\"static/chunks/999-0270acd6251eddf1.js\",\"946\",\"static/chunks/946-8a7edae2f577dc0f.js\",\"297\",\"static/chunks/app/webhooks/page-97db53eed39cc3ba.js\"],\"\"]\n7:I[922,[\"250\",\"static/chunks/250-88dc8aa2a7490a88.js\",\"999\",\"s"])</script><script>self.__next_f.push([1,"tatic/chunks/999-0270acd6251eddf1.js\",\"946\",\"static/chunks/946-8a7edae2f577dc0f.js\",\"297\",\"static/chunks/app/webhooks/page-97db53eed39cc3ba.js\"],\"Code\"]\n8:I[922,[\"250\",\"static/chunks/250-88dc8aa2a7490a88.js\",\"999\",\"static/chunks/999-0270acd6251eddf1.js\",\"946\",\"static/chunks/946-8a7edae2f577dc0f.js\",\"297\",\"static/chunks/app/webhooks/page-97db53eed39cc3ba.js\"],\"Pre\"]\nb:I[922,[\"250\",\"static/chunks/250-88dc8aa2a7490a88.js\",\"999\",\"static/chunks/999-0270acd6251eddf1.js\",\"946\",\"static/chunks/946-8a7edae2f577dc0f.j"])</script><script>self.__next_f.push([1,"s\",\"297\",\"static/chunks/app/webhooks/page-97db53eed39cc3ba.js\"],\"CodeGroup\"]\nf:I[6620,[\"250\",\"static/chunks/250-88dc8aa2a7490a88.js\",\"999\",\"static/chunks/999-0270acd6251eddf1.js\",\"946\",\"static/chunks/946-8a7edae2f577dc0f.js\",\"297\",\"static/chunks/app/webhooks/page-97db53eed39cc3ba.js\"],\"Feedback\"]\n10:I[5613,[],\"\"]\n11:I[1778,[],\"\"]\n14:I[8955,[],\"\"]\n9:T6e0,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;a056V7R7NmNRjl70\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;conversation.updated\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;payload\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;WAz8eIbvDR60rouK\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// ...\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"a:T1bad,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e{\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;a056V7R7NmNRjl70\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;message.updated\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;payload\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;SIuAFUNKdSYHZF2w\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;conversation_id\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;xgQQXg3hrtjh7AvZ\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;contact\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;WAz8eIbvDR60rouK\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;username\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;KevinMcCallister\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;phone_number\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;1-800-759-3000\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;avatar_url\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;https://assets.protocol.chat/avatars/kevin.jpg\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;last_active_at\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e705103200\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e      \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;created_at\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e692233200\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    }\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;message\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;I’m traveling with my dad. He’s at a meeting. I hate meetings.\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;reactions\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e []\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;attachments\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e []\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;read_at\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e705103200\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;created_at\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e692233200\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026quot;updated_at\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e692233200\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  }\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"c:T9f9,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003esignature\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ereq\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e.headers[\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;x-protocol-signature\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e]\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003econst\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ehash\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ecrypto\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.createHmac\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;sha256\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e secret)\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.update\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(payload)\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e.digest\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;hex\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eif\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e (hash \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e===\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e signature) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Request is verified\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e} \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eelse\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Request could not be verified\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"d:Tc9a,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003efrom\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e flask \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eimport\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e request\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eimport\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e hashlib\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eimport\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e hmac\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003esignature \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e request\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e.\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003eheaders\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e.\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eget\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;x-protocol-signature\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ehash\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e hmac\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e.\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003enew\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ebytes\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e(secret, \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;ascii\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e), \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003ebytes\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e(payload, \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;ascii\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e), hashlib.sha256)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eif\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ehash\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e.\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ehexdigest\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e()\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e==\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e signature\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Request is verified\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eelse\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e:\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e    \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Request could not be verified\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"e:T937,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e$signature \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e $request[\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;headers\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e][\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;x-protocol-signature\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e];\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e$hash \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ehash_hmac\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;sha256\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e $payload\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e $secret\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e)\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eif\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e (\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ehash_equals\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e$hash\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e,\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e $signature\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e)\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Request is verified\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e} \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eelse\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e// Request could not be verified\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/41f99c05e5c550cd.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"6TED3Z7g9MtUZIvREXHjq\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/webhooks\",\"initialTree\":[\"\",{\"children\":[\"webhooks\",{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"webhooks\",{\"children\":[\"__PAGE__\",{},[\"$L4\",[\"$\",\"article\",null,{\"className\":\"flex h-full flex-col pb-10 pt-16\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex-auto prose dark:prose-invert [html_:where(\u0026\u003e*)]:mx-auto [html_:where(\u0026\u003e*)]:max-w-2xl [html_:where(\u0026\u003e*)]:lg:mx-[calc(50%-min(50%,theme(maxWidth.lg)))] [html_:where(\u0026\u003e*)]:lg:max-w-3xl\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"Webhooks\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In this guide, we will look at how to register and consume webhooks to integrate your app with Protocol. With webhooks, your app can know when something happens in Protocol, such as someone sending a message or adding a contact.\",\"className\":\"lead\"}],\"\\n\",[\"$\",\"$L5\",null,{\"level\":2,\"id\":\"registering-webhooks\",\"children\":\"Registering webhooks\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To register a new webhook, you need to have a URL in your app that Protocol can call. You can configure a new webhook from the Protocol dashboard under \",[\"$\",\"$L6\",null,{\"href\":\"#\",\"children\":\"API settings\"}],\". Give your webhook a name, pick the \",[\"$\",\"$L6\",null,{\"href\":\"#event-types\",\"children\":\"events\"}],\" you want to listen for, and add your URL.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Now, whenever something of interest happens in your app, a webhook is fired off by Protocol. In the next section, we'll look at how to consume webhooks.\"}],\"\\n\",[\"$\",\"$L5\",null,{\"level\":2,\"id\":\"consuming-webhooks\",\"children\":\"Consuming webhooks\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"When your app receives a webhook request from Protocol, check the \",[\"$\",\"$L7\",null,{\"children\":\"type\"}],\" attribute to see what event caused it. The first part of the event type will tell you the payload type, e.g., a conversation, message, etc.\"]}],\"\\n\",[\"$\",\"$L8\",null,{\"language\":\"json\",\"code\":\"{\\n  \\\"id\\\": \\\"a056V7R7NmNRjl70\\\",\\n  \\\"type\\\": \\\"conversation.updated\\\",\\n  \\\"payload\\\": {\\n    \\\"id\\\": \\\"WAz8eIbvDR60rouK\\\"\\n    // ...\\n  }\\n}\\n\",\"children\":[\"$\",\"$L7\",null,{\"className\":\"language-json\",\"children\":\"$9\"}],\"title\":\"Example webhook payload\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"In the example above, a conversation was \",[\"$\",\"$L7\",null,{\"children\":\"updated\"}],\", and the payload type is a \",[\"$\",\"$L7\",null,{\"children\":\"conversation\"}],\".\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"not-prose\",\"children\":[\"$\",\"$L6\",null,{\"className\":\"inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition text-emerald-500 hover:text-emerald-600 dark:text-emerald-400 dark:hover:text-emerald-500\",\"href\":\"#event-types\",\"children\":[false,\"See all event types\",[\"$\",\"svg\",null,{\"viewBox\":\"0 0 20 20\",\"fill\":\"none\",\"aria-hidden\":\"true\",\"className\":\"mt-0.5 h-5 w-5 relative top-px -mr-1\",\"children\":[\"$\",\"path\",null,{\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9\"}]}]]}]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"$L5\",null,{\"level\":2,\"id\":\"event-types\",\"children\":\"Event types\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"grid grid-cols-1 items-start gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2\",\"children\":[[\"$\",\"div\",null,{\"className\":\"[\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"my-6\",\"children\":[\"$\",\"ul\",null,{\"role\":\"list\",\"className\":\"m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5\",\"children\":[[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"contact.created\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"A new contact was created.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"contact.updated\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"An existing contact was updated.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"contact.deleted\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"A contact was successfully deleted.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"conversation.created\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"A new conversation was created.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"conversation.updated\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"An existing conversation was updated.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"conversation.deleted\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"A conversation was successfully deleted.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"message.created\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"A new message was created.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"message.updated\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"An existing message was updated.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"message.deleted\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"A message was successfully deleted.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"group.created\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"A new group was created.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"group.updated\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"An existing group was updated.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"group.deleted\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"A group was successfully deleted.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"attachment.created\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"A new attachment was created.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"attachment.updated\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"An existing attachment was updated.\"}]}]]}]}],[\"$\",\"li\",null,{\"className\":\"m-0 px-0 py-4 first:pt-0 last:pb-0\",\"children\":[\"$\",\"dl\",null,{\"className\":\"m-0 flex flex-wrap items-center gap-x-3 gap-y-2\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"attachment.deleted\"}]}],\"$undefined\",[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Description\"}],[\"$\",\"dd\",null,{\"className\":\"w-full flex-none [\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0\",\"children\":[\"$\",\"p\",null,{\"children\":\"An attachment was successfully deleted.\"}]}]]}]}]]}]}]}],[\"$\",\"div\",null,{\"className\":\"[\u0026\u003e:first-child]:mt-0 [\u0026\u003e:last-child]:mb-0 xl:sticky xl:top-24\",\"children\":[\"$\",\"$L8\",null,{\"language\":\"json\",\"code\":\"{\\n  \\\"id\\\": \\\"a056V7R7NmNRjl70\\\",\\n  \\\"type\\\": \\\"message.updated\\\",\\n  \\\"payload\\\": {\\n    \\\"id\\\": \\\"SIuAFUNKdSYHZF2w\\\",\\n    \\\"conversation_id\\\": \\\"xgQQXg3hrtjh7AvZ\\\",\\n    \\\"contact\\\": {\\n      \\\"id\\\": \\\"WAz8eIbvDR60rouK\\\",\\n      \\\"username\\\": \\\"KevinMcCallister\\\",\\n      \\\"phone_number\\\": \\\"1-800-759-3000\\\",\\n      \\\"avatar_url\\\": \\\"https://assets.protocol.chat/avatars/kevin.jpg\\\",\\n      \\\"last_active_at\\\": 705103200,\\n      \\\"created_at\\\": 692233200\\n    },\\n    \\\"message\\\": \\\"I’m traveling with my dad. He’s at a meeting. I hate meetings.\\\",\\n    \\\"reactions\\\": [],\\n    \\\"attachments\\\": [],\\n    \\\"read_at\\\": 705103200,\\n    \\\"created_at\\\": 692233200,\\n    \\\"updated_at\\\": 692233200\\n  }\\n}\\n\",\"children\":[\"$\",\"$L7\",null,{\"className\":\"language-json\",\"children\":\"$a\"}],\"title\":\"Example payload\"}]}]]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"$L5\",null,{\"level\":2,\"id\":\"security\",\"children\":\"Security\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To know for sure that a webhook was, in fact, sent by Protocol instead of a malicious actor, you can verify the request signature. Each webhook request contains a header named \",[\"$\",\"$L7\",null,{\"children\":\"x-protocol-signature\"}],\", and you can verify this signature by using your secret webhook key. The signature is an HMAC hash of the request payload hashed using your secret key. Here is an example of how to verify the signature in your app:\"]}],\"\\n\",[\"$\",\"$Lb\",null,{\"title\":\"Verifying a request\",\"children\":[[\"$\",\"$L8\",null,{\"language\":\"js\",\"code\":\"const signature = req.headers['x-protocol-signature']\\nconst hash = crypto.createHmac('sha256', secret).update(payload).digest('hex')\\n\\nif (hash === signature) {\\n  // Request is verified\\n} else {\\n  // Request could not be verified\\n}\\n\",\"children\":[\"$\",\"$L7\",null,{\"className\":\"language-js\",\"children\":\"$c\"}]}],[\"$\",\"$L8\",null,{\"language\":\"python\",\"code\":\"from flask import request\\nimport hashlib\\nimport hmac\\n\\nsignature = request.headers.get(\\\"x-protocol-signature\\\")\\nhash = hmac.new(bytes(secret, \\\"ascii\\\"), bytes(payload, \\\"ascii\\\"), hashlib.sha256)\\n\\nif hash.hexdigest() == signature:\\n    # Request is verified\\nelse:\\n    # Request could not be verified\\n\",\"children\":[\"$\",\"$L7\",null,{\"className\":\"language-python\",\"children\":\"$d\"}]}],[\"$\",\"$L8\",null,{\"language\":\"php\",\"code\":\"$$signature = $request['headers']['x-protocol-signature'];\\n$hash = hash_hmac('sha256', $payload, $secret);\\n\\nif (hash_equals($hash, $signature)) {\\n  // Request is verified\\n} else {\\n  // Request could not be verified\\n}\\n\",\"children\":[\"$\",\"$L7\",null,{\"className\":\"language-php\",\"children\":\"$e\"}]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If your generated signature matches the \",[\"$\",\"$L7\",null,{\"children\":\"x-protocol-signature\"}],\" header, you can be sure that the request was truly coming from Protocol. It's essential to keep your secret webhook key safe — otherwise, you can no longer be sure that a given webhook was sent by Protocol. Don't commit your secret webhook key to GitHub!\"]}]]}],[\"$\",\"footer\",null,{\"className\":\"mx-auto mt-16 w-full max-w-2xl lg:max-w-5xl\",\"children\":[\"$\",\"$Lf\",null,{}]}]]}],null]]},[\"$\",\"$L10\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"webhooks\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L11\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,\"$L12\",null]],\"initialHead\":[false,\"$L13\"],\"globalErrorComponent\":\"$14\"}]]\n"])</script><script>self.__next_f.push([1,"13:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Webhooks - 软件技术分享\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"In this guide, we will look at how to register and consume webhooks to integrate your app with Protocol.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}]]\n4:null\n"])</script><script>self.__next_f.push([1,"15:I[2266,[\"250\",\"static/chunks/250-88dc8aa2a7490a88.js\",\"999\",\"static/chunks/999-0270acd6251eddf1.js\",\"772\",\"static/chunks/772-eb2a9fce6f9af934.js\",\"749\",\"static/chunks/749-0a76b3e3e5f7906d.js\",\"126\",\"static/chunks/126-216dd38af5481c9d.js\",\"946\",\"static/chunks/946-8a7edae2f577dc0f.js\",\"185\",\"static/chunks/app/layout-fe45e618c88a3db4.js\"],\"Providers\"]\n16:I[8551,[\"250\",\"static/chunks/250-88dc8aa2a7490a88.js\",\"999\",\"static/chunks/999-0270acd6251eddf1.js\",\"772\",\"static/chunks/772-eb2a9fce6f9af934.js\",\"749\",\"st"])</script><script>self.__next_f.push([1,"atic/chunks/749-0a76b3e3e5f7906d.js\",\"126\",\"static/chunks/126-216dd38af5481c9d.js\",\"946\",\"static/chunks/946-8a7edae2f577dc0f.js\",\"185\",\"static/chunks/app/layout-fe45e618c88a3db4.js\"],\"Layout\"]\n"])</script><script>self.__next_f.push([1,"12:[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"h-full\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"flex min-h-full antialiased bg-white dark:bg-zinc-900\",\"children\":[\"$\",\"$L15\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"$L16\",null,{\"allSections\":{\"/\":[{\"title\":\"说明\",\"id\":\"guides\"},{\"title\":\"资源\",\"id\":\"resources\"}],\"/FAQ\":[],\"/attachments\":[{\"title\":\"南门寻味烧烤\",\"id\":\"\"},{\"title\":\"四季濠尚潮汕牛肉火锅\",\"id\":\"\"}],\"/baidupan\":[],\"/code\":[],\"/contacts\":[{\"title\":\"The contact model\",\"id\":\"the-contact-model\"},{\"title\":\"List all contacts\",\"id\":\"list-all-contacts\",\"tag\":\"GET\",\"label\":\"/v1/contacts\"},{\"title\":\"Create a contact\",\"id\":\"create-a-contact\",\"tag\":\"POST\",\"label\":\"/v1/contacts\"},{\"title\":\"Retrieve a contact\",\"id\":\"retrieve-a-contact\",\"tag\":\"GET\",\"label\":\"/v1/contacts/:id\"},{\"title\":\"Update a contact\",\"id\":\"update-a-contact\",\"tag\":\"PUT\",\"label\":\"/v1/contacts/:id\"},{\"title\":\"Delete a contact\",\"id\":\"delete-a-contact\",\"tag\":\"DELETE\",\"label\":\"/v1/contacts/:id\"}],\"/conversations\":[{\"title\":\"The conversation model\",\"id\":\"the-conversation-model\"},{\"title\":\"List all conversations\",\"id\":\"list-all-conversations\",\"tag\":\"GET\",\"label\":\"/v1/conversations\"},{\"title\":\"Create a conversation\",\"id\":\"create-a-conversation\",\"tag\":\"POST\",\"label\":\"/v1/conversations\"},{\"title\":\"Retrieve a conversation\",\"id\":\"retrieve-a-conversation\",\"tag\":\"GET\",\"label\":\"/v1/conversations/:id\"},{\"title\":\"Update a conversation\",\"id\":\"update-a-conversation\",\"tag\":\"PUT\",\"label\":\"/v1/conversations/:id\"},{\"title\":\"Delete a conversation\",\"id\":\"delete-a-conversation\",\"tag\":\"DELETE\",\"label\":\"/v1/conversations/:id\"}],\"/errors\":[{\"title\":\"Status codes\",\"id\":\"status-codes\"},{\"title\":\"Error types\",\"id\":\"error-types\"}],\"/food\":[{\"title\":\"南门寻味烧烤\",\"id\":\"\"},{\"title\":\"四季濠尚潮汕牛肉火锅\",\"id\":\"\"}],\"/groups\":[{\"title\":\"The group model\",\"id\":\"the-group-model\"},{\"title\":\"List all groups\",\"id\":\"list-all-groups\",\"tag\":\"GET\",\"label\":\"/v1/groups\"},{\"title\":\"Create a group\",\"id\":\"create-a-group\",\"tag\":\"POST\",\"label\":\"/v1/groups\"},{\"title\":\"Retrieve a group\",\"id\":\"retrieve-a-group\",\"tag\":\"GET\",\"label\":\"/v1/groups/:id\"},{\"title\":\"Update a group\",\"id\":\"update-a-group\",\"tag\":\"PUT\",\"label\":\"/v1/groups/:id\"},{\"title\":\"Delete a group\",\"id\":\"delete-a-group\",\"tag\":\"DELETE\",\"label\":\"/v1/groups/:id\"}],\"/latex\":[],\"/messages\":[{\"title\":\"ImageNet\",\"id\":\"image-net\"},{\"title\":\"COCO (Common Objects in Context)\",\"id\":\"coco-common-objects-in-context\"},{\"title\":\"PASCAL VOC\",\"id\":\"pascal-voc\"}],\"/model\":[],\"/others\":[],\"/pagination\":[{\"title\":\"Example using cursors\",\"id\":\"example-using-cursors\"}],\"/ppt\":[],\"/pytorch\":[{\"title\":\"使用 pip 安装\",\"id\":\"pip\"},{\"title\":\"使用 conda 安装\",\"id\":\"conda\"},{\"title\":\"注意事项\",\"id\":\"\"}],\"/quickstart\":[{\"title\":\"登录服务器\",\"id\":\"\"},{\"title\":\"安装Python环境\",\"id\":\"python\"},{\"title\":\"What's next?\",\"id\":\"whats-next\"}],\"/remote\":[{\"title\":\"三种远程访问方式\",\"id\":\"official-libraries\"}],\"/tools\":[],\"/video\":[],\"/webhooks\":[{\"title\":\"Registering webhooks\",\"id\":\"registering-webhooks\"},{\"title\":\"Consuming webhooks\",\"id\":\"consuming-webhooks\"},{\"title\":\"Event types\",\"id\":\"event-types\"},{\"title\":\"Security\",\"id\":\"security\"}]},\"children\":[\"$\",\"$L10\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L11\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"absolute inset-0 -z-10 mx-0 max-w-none overflow-hidden\",\"children\":[\"$\",\"div\",null,{\"className\":\"absolute left-1/2 top-0 ml-[-38rem] h-[25rem] w-[81.25rem] dark:[mask-image:linear-gradient(white,transparent)]\",\"children\":[[\"$\",\"div\",null,{\"className\":\"absolute inset-0 bg-gradient-to-r from-[#36b49f] to-[#DBFF75] opacity-40 [mask-image:radial-gradient(farthest-side_at_top,white,transparent)] dark:from-[#36b49f]/30 dark:to-[#DBFF75]/30 dark:opacity-100\",\"children\":[\"$\",\"svg\",null,{\"aria-hidden\":\"true\",\"className\":\"absolute inset-x-0 inset-y-[-50%] h-[200%] w-full skew-y-[-18deg] fill-black/40 stroke-black/50 mix-blend-overlay dark:fill-white/2.5 dark:stroke-white/5\",\"children\":[[\"$\",\"defs\",null,{\"children\":[\"$\",\"pattern\",null,{\"id\":\":S1:\",\"width\":72,\"height\":56,\"patternUnits\":\"userSpaceOnUse\",\"x\":-12,\"y\":4,\"children\":[\"$\",\"path\",null,{\"d\":\"M.5 56V.5H72\",\"fill\":\"none\"}]}]}],[\"$\",\"rect\",null,{\"width\":\"100%\",\"height\":\"100%\",\"strokeWidth\":0,\"fill\":\"url(#:S1:)\"}],[\"$\",\"svg\",null,{\"x\":-12,\"y\":4,\"className\":\"overflow-visible\",\"children\":[[\"$\",\"rect\",\"4-3\",{\"strokeWidth\":\"0\",\"width\":73,\"height\":57,\"x\":288,\"y\":168}],[\"$\",\"rect\",\"2-1\",{\"strokeWidth\":\"0\",\"width\":73,\"height\":57,\"x\":144,\"y\":56}],[\"$\",\"rect\",\"7-3\",{\"strokeWidth\":\"0\",\"width\":73,\"height\":57,\"x\":504,\"y\":168}],[\"$\",\"rect\",\"10-6\",{\"strokeWidth\":\"0\",\"width\":73,\"height\":57,\"x\":720,\"y\":336}]]}]]}]}],[\"$\",\"svg\",null,{\"viewBox\":\"0 0 1113 440\",\"aria-hidden\":\"true\",\"className\":\"absolute left-1/2 top-0 ml-[-19rem] w-[69.5625rem] fill-white blur-[26px] dark:hidden\",\"children\":[\"$\",\"path\",null,{\"d\":\"M.016 439.5s-9.5-300 434-300S882.516 20 882.516 20V0h230.004v439.5H.016Z\"}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"mx-auto flex h-full max-w-xl flex-col items-center justify-center py-16 text-center\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm font-semibold text-zinc-900 dark:text-white\",\"children\":\"404\"}],[\"$\",\"h1\",null,{\"className\":\"mt-2 text-2xl font-bold text-zinc-900 dark:text-white\",\"children\":\"Page not found\"}],[\"$\",\"p\",null,{\"className\":\"mt-2 text-base text-zinc-600 dark:text-zinc-400\",\"children\":\"Sorry, we couldn’t find the page you’re looking for.\"}],[\"$\",\"$L6\",null,{\"className\":\"inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition rounded-full bg-zinc-900 py-1 px-3 text-white hover:bg-zinc-700 dark:bg-emerald-400/10 dark:text-emerald-400 dark:ring-1 dark:ring-inset dark:ring-emerald-400/20 dark:hover:bg-emerald-400/10 dark:hover:text-emerald-300 dark:hover:ring-emerald-300 mt-8\",\"href\":\"/\",\"children\":[false,\"Back to docs\",[\"$\",\"svg\",null,{\"viewBox\":\"0 0 20 20\",\"fill\":\"none\",\"aria-hidden\":\"true\",\"className\":\"mt-0.5 h-5 w-5 -mr-1\",\"children\":[\"$\",\"path\",null,{\"stroke\":\"currentColor\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"m11.5 6.5 3 3.5m0 0-3 3.5m3-3.5h-9\"}]}]]}]]}]],\"notFoundStyles\":[],\"styles\":null}]}]}]}]}]}]\n"])</script><script>self.__next_f.push([1,""])</script></body></html>